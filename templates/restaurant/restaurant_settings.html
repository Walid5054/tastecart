{% load static %}
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TasteCart | Restaurant Settings</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: '#0f172a',
              accent: '#DC2626',
              bg: '#f8fafc'
            }
          }
        }
      }
    </script>
  </head>
  <body class="bg-bg text-gray-900">
    <!-- Header -->
    <header class="bg-primary text-white shadow-md">
      <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
        <h1 class="text-2xl font-bold tracking-tight"><a href="{% url 'index' %}" class="hover:text-accent">TasteCart</a> Restaurant Settings</h1>
        <nav class="flex items-center gap-2 text-sm font-medium">
          <a href="{% url "dashboard" %}" class="relative px-3 py-2 rounded-md transition hover:bg-white/10 hover:text-accent focus:outline-none focus:ring-2 focus:ring-accent">Dashboard</a>
          <a href="{% url 'restaurant_settings' %}" class="relative px-3 py-2 rounded-md transition hover:bg-white/10 hover:text-accent focus:outline-none focus:ring-2 focus:ring-accent">Restaurant Settings</a>
          <a href="{% url 'orders' %}" class="relative px-3 py-2 rounded-md transition hover:bg-white/10 hover:text-accent focus:outline-none focus:ring-2 focus:ring-accent">
            Orders{% if orders %}
              <span class="absolute top-1 right-1 -mt-2 -mr-2 inline-flex items-center justify-center px-2 py-0.5 rounded-full text-xs font-semibold bg-accent text-white shadow">{{ orders|length }}</span>
            {% endif %}
          </a>
          <a href="{% url 'logout' %}" class="relative px-3 py-2 rounded-md transition hover:bg-white/10 hover:text-accent focus:outline-none focus:ring-2 focus:ring-accent">Logout</a>
        </nav>
      </div>
    </header>

    {% include 'kits/message.html' %}

    <!-- Main Content -->
    <main class="max-w-6xl mx-auto p-6">
      <!-- Header Section -->
      <div class="bg-white p-6 rounded-xl shadow-md mb-8">
        <div class="flex items-center justify-between">
          <div>
            <h1 class="text-3xl font-bold text-gray-800">Restaurant Settings</h1>
            <p class="text-gray-600 mt-2">Manage your restaurant information and details</p>
          </div>
          <div class="text-right">
            <p class="text-sm text-gray-500">
              Restaurant: <span class="font-semibold">{{ restaurant.restaurant_name }}</span>
            </p>
            <p class="text-sm text-gray-500">
              Rating: <span class="font-semibold text-yellow-600">{{ restaurant.rating }}/5.0</span>
            </p>
          </div>
        </div>
      </div>

      <!-- Settings Form -->
      <div class="bg-white rounded-xl shadow-md">
        <div class="p-6 border-b border-gray-200">
          <h2 class="text-xl font-semibold text-gray-800">Restaurant Information</h2>
          <p class="text-gray-600 text-sm mt-1">Update your restaurant details to attract more customers</p>
        </div>

        <form method="POST" enctype="multipart/form-data" class="p-6">
          {% csrf_token %}

          <!-- Basic Information Section -->
          <div class="mb-8">
            <h3 class="text-lg font-semibold text-gray-800 mb-4 border-l-4 border-red-500 pl-4">Basic Information</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label for="{{ form.category.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">{{ form.category.label }}</label>
                {{ form.category }}
                {% if form.category.errors %}
                  <p class="text-sm text-red-500 mt-1">{{ form.category.errors|striptags }}</p>
                {% endif %}
              </div>

              <div>
                <label for="{{ form.phone.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">{{ form.phone.label }}</label>
                {{ form.phone }}
                {% if form.phone.errors %}
                  <p class="text-sm text-red-500 mt-1">{{ form.phone.errors|striptags }}</p>
                {% endif %}
              </div>

              <div>
                <label for="{{ form.email.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">{{ form.email.label }}</label>
                {{ form.email }}
                {% if form.email.errors %}
                  <p class="text-sm text-red-500 mt-1">{{ form.email.errors|striptags }}</p>
                {% endif %}
              </div>

              <div>
                <label for="{{ form.location.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">{{ form.location.label }}</label>
                {{ form.location }}
                {% if form.location.errors %}
                  <p class="text-sm text-red-500 mt-1">{{ form.location.errors|striptags }}</p>
                {% endif %}
              </div>
            </div>

            <div class="mt-6">
              <label for="{{ form.address.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">{{ form.address.label }}</label>
              {{ form.address }}
              {% if form.address.errors %}
                <p class="text-sm text-red-500 mt-1">{{ form.address.errors|striptags }}</p>
              {% endif %}
            </div>
          </div>

          <!-- Images Section -->
          <div class="mb-8">
            <h3 class="text-lg font-semibold text-gray-800 mb-4 border-l-4 border-red-500 pl-4">Images</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label for="{{ form.restaurant_image.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">{{ form.restaurant_image.label }}</label>
                {{ form.restaurant_image }}
                {% if form.restaurant_image.errors %}
                  <p class="text-sm text-red-500 mt-1">{{ form.restaurant_image.errors|striptags }}</p>
                {% endif %}
                {% if restaurant.restaurant_image %}
                  <div class="mt-2">
                    <img src="{{ restaurant.restaurant_image.url }}" alt="Current restaurant image" class="w-32 h-24 object-cover rounded border" />
                  </div>
                {% endif %}
              </div>

              <div>
                <label for="{{ form.inside_image1.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">{{ form.inside_image1.label }}</label>
                {{ form.inside_image1 }}
                {% if form.inside_image1.errors %}
                  <p class="text-sm text-red-500 mt-1">{{ form.inside_image1.errors|striptags }}</p>
                {% endif %}
                {% if restaurant.inside_image1 %}
                  <div class="mt-2">
                    <img src="{{ restaurant.inside_image1.url }}" alt="Current inside image 1" class="w-32 h-24 object-cover rounded border" />
                  </div>
                {% endif %}
              </div>

              <div>
                <label for="{{ form.inside_image2.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">{{ form.inside_image2.label }}</label>
                {{ form.inside_image2 }}
                {% if form.inside_image2.errors %}
                  <p class="text-sm text-red-500 mt-1">{{ form.inside_image2.errors|striptags }}</p>
                {% endif %}
                {% if restaurant.inside_image2 %}
                  <div class="mt-2">
                    <img src="{{ restaurant.inside_image2.url }}" alt="Current inside image 2" class="w-32 h-24 object-cover rounded border" />
                  </div>
                {% endif %}
              </div>

              <div>
                <label for="{{ form.inside_image3.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">{{ form.inside_image3.label }}</label>
                {{ form.inside_image3 }}
                {% if form.inside_image3.errors %}
                  <p class="text-sm text-red-500 mt-1">{{ form.inside_image3.errors|striptags }}</p>
                {% endif %}
                {% if restaurant.inside_image3 %}
                  <div class="mt-2">
                    <img src="{{ restaurant.inside_image3.url }}" alt="Current inside image 3" class="w-32 h-24 object-cover rounded border" />
                  </div>
                {% endif %}
              </div>
            </div>
          </div>

          <!-- Description Section -->
          <div class="mb-8">
            <h3 class="text-lg font-semibold text-gray-800 mb-4 border-l-4 border-red-500 pl-4">Description & About</h3>
            <div class="space-y-6">
              <div>
                <label for="{{ form.description.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">{{ form.description.label }}</label>
                {{ form.description }}
                {% if form.description.errors %}
                  <p class="text-sm text-red-500 mt-1">{{ form.description.errors|striptags }}</p>
                {% endif %}
              </div>

              <div>
                <label for="{{ form.about.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">{{ form.about.label }}</label>
                {{ form.about }}
                {% if form.about.errors %}
                  <p class="text-sm text-red-500 mt-1">{{ form.about.errors|striptags }}</p>
                {% endif %}
              </div>
            </div>
          </div>

          <!-- Operational Details Section -->
          <div class="mb-8">
            <h3 class="text-lg font-semibold text-gray-800 mb-4 border-l-4 border-red-500 pl-4">Operational Details</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
              <div>
                <label for="{{ form.opening_time.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">{{ form.opening_time.label }}</label>
                {{ form.opening_time }}
                {% if form.opening_time.errors %}
                  <p class="text-sm text-red-500 mt-1">{{ form.opening_time.errors|striptags }}</p>
                {% endif %}
              </div>

              <div>
                <label for="{{ form.closing_time.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">{{ form.closing_time.label }}</label>
                {{ form.closing_time }}
                {% if form.closing_time.errors %}
                  <p class="text-sm text-red-500 mt-1">{{ form.closing_time.errors|striptags }}</p>
                {% endif %}
              </div>

              <div>
                <label for="{{ form.estimated_delivery_time.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">{{ form.estimated_delivery_time.label }}</label>
                {{ form.estimated_delivery_time }}
                {% if form.estimated_delivery_time.errors %}
                  <p class="text-sm text-red-500 mt-1">{{ form.estimated_delivery_time.errors|striptags }}</p>
                {% endif %}
              </div>

              <div>
                <label for="{{ form.offers.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">{{ form.offers.label }}</label>
                {{ form.offers }}
                {% if form.offers.errors %}
                  <p class="text-sm text-red-500 mt-1">{{ form.offers.errors|striptags }}</p>
                {% endif %}
              </div>
            </div>
          </div>

          <!-- Chef Information Section -->
          <div class="mb-8">
            <h3 class="text-lg font-semibold text-gray-800 mb-4 border-l-4 border-red-500 pl-4">Chef Information</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label for="{{ form.chef_name.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">{{ form.chef_name.label }}</label>
                {{ form.chef_name }}
                {% if form.chef_name.errors %}
                  <p class="text-sm text-red-500 mt-1">{{ form.chef_name.errors|striptags }}</p>
                {% endif %}
              </div>

              <div>
                <label for="{{ form.chef_image.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">{{ form.chef_image.label }}</label>
                {{ form.chef_image }}
                {% if form.chef_image.errors %}
                  <p class="text-sm text-red-500 mt-1">{{ form.chef_image.errors|striptags }}</p>
                {% endif %}
                {% if restaurant.chef_image %}
                  <div class="mt-2">
                    <img src="{{ restaurant.chef_image.url }}" alt="Current chef image" class="w-32 h-24 object-cover rounded border" />
                  </div>
                {% endif %}
              </div>
            </div>
          </div>

          <!-- Action Buttons -->
          <div class="flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200">
            <button type="submit" class="flex-1 bg-red-500 hover:bg-red-600 text-white font-semibold py-3 px-6 rounded-lg transition duration-200">Update Restaurant Details</button>
            <a href="{% url 'dashboard' %}" class="flex-1 bg-gray-500 hover:bg-gray-600 text-white font-semibold py-3 px-6 rounded-lg text-center transition duration-200">Back to Dashboard</a>
          </div>
        </form>
      </div>

      <!-- Tips Section -->
      <div class="mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6">
        <h3 class="text-lg font-semibold text-blue-800 mb-3">💡 Tips for Better Visibility</h3>
        <ul class="text-sm text-blue-700 space-y-2">
          <li>• Add high-quality images of your restaurant and food</li>
          <li>• Write compelling descriptions that highlight your specialties</li>
          <li>• Keep your operating hours and delivery times up to date</li>
          <li>• Use attractive offers to entice customers</li>
          <li>• Provide accurate location and contact information</li>
        </ul>
      </div>
    </main>

    <!-- Footer -->
    <footer class="bg-white border-t py-8 mt-12">
      <div class="max-w-6xl mx-auto px-6 text-center text-gray-600">
        <p>&copy; 2025 TasteCart. All rights reserved.</p>
      </div>
    </footer>
  </body>
</html>
